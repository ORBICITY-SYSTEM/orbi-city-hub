import{r as f,a6 as r,j as e,$ as b,ba as w,aZ as C,ah as F}from"./react-vendor-BIDRRw8F.js";import{u as k,t as h,C as l,b as i,c as o,d,a as n,B as m,p as T,T as p}from"./index-BLcOQO7i.js";import{I as P}from"./input-BuEOZAZD.js";import{L as c}from"./label-KexGf_ya.js";import"./trpc-vendor-wm-eNDph.js";import"./vendor-INCMKllo.js";function I(){const{isAuthenticated:x}=k(),[t,a]=f.useState({name:"",hotelName:"",identity:"",services:"",communicationStyle:"",restrictions:""}),{data:u=[],refetch:y}=h.systemPrompts.list.useQuery(void 0,{enabled:x}),S=h.systemPrompts.create.useMutation({onSuccess:()=>{r.success("სისტემური პრომპტი შენახულია!"),y(),a({name:"",hotelName:"",identity:"",services:"",communicationStyle:"",restrictions:""})}}),j=h.systemPrompts.delete.useMutation({onSuccess:()=>{r.success("სისტემური პრომპტი წაშლილია!"),y()}}),g=()=>`თქვენ ხართ "${t.hotelName||"[სასტუმროს სახელი]"}" აპარტჰოტელის ვირტუალური ასისტენტი.

იდენტობა:
${t.identity||"[აღწერეთ ბოტის იდენტობა და როლი]"}

სერვისები და ინფორმაცია:
${t.services||"[ჩამოთვალეთ ყველა სერვისი, ფასები, ნომრების ტიპები და სხვა დეტალები]"}

კომუნიკაციის სტილი:
${t.communicationStyle||"[აღწერეთ როგორ უნდა ურთიერთობდეს ბოტი მომხმარებლებთან]"}

შეზღუდვები:
${t.restrictions||"[ჩამოთვალეთ რა არ უნდა გააკეთოს ბოტმა]"}`,B=()=>{if(!x){r.error("შესვლა საჭიროა!");return}if(!t.name||!t.hotelName){r.error("გთხოვთ შეავსოთ სავალდებულო ველები!");return}S.mutate({...t,fullPrompt:g(),isActive:!1})},v=s=>{navigator.clipboard.writeText(s),r.success("დაკოპირებულია!")},N=s=>{a({name:s.name,hotelName:s.hotelName||"",identity:s.identity||"",services:s.services||"",communicationStyle:s.communicationStyle||"",restrictions:s.restrictions||""}),r.success("პრომპტი ჩაიტვირთა!")};return x?e.jsx("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:122",className:"min-h-screen bg-gradient-to-br from-background to-secondary py-12",children:e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:123",className:"container max-w-6xl",children:[e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:124",className:"text-center mb-12 animate-fade-in",children:[e.jsx("h1",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:125",className:"text-4xl md:text-5xl font-bold mb-4 text-gradient",children:"სისტემური პრომპტის შემქმნელი"}),e.jsx("p",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:128",className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"შექმენით პერსონალიზებული სისტემური პრომპტი თქვენი ბიზნესისთვის"})]}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:133",className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:135",className:"lg:col-span-2 space-y-6",children:e.jsxs(l,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:136",className:"shadow-elegant",children:[e.jsxs(i,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:137",children:[e.jsxs(o,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:138",className:"flex items-center gap-2",children:[e.jsx(b,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:139",className:"h-5 w-5 text-primary"}),"პრომპტის პარამეტრები"]}),e.jsx(d,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:142",children:"შეავსეთ ველები თქვენი სასტუმროს ინფორმაციით"})]}),e.jsxs(n,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:146",className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:147",className:"space-y-2",children:[e.jsx(c,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:148",htmlFor:"name",children:"პრომპტის სახელი *"}),e.jsx(P,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:149",id:"name",placeholder:"მაგ: ორბი სითი - მთავარი პრომპტი",value:t.name,onChange:s=>a({...t,name:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:157",className:"space-y-2",children:[e.jsx(c,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:158",htmlFor:"hotelName",children:"სასტუმროს სახელი *"}),e.jsx(P,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:159",id:"hotelName",placeholder:"მაგ: ორბი სითი",value:t.hotelName,onChange:s=>a({...t,hotelName:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:167",className:"space-y-2",children:[e.jsx(c,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:168",htmlFor:"identity",children:"იდენტობა"}),e.jsx(p,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:169",id:"identity",placeholder:"აღწერეთ ბოტის როლი და პიროვნება...",rows:3,value:t.identity,onChange:s=>a({...t,identity:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:178",className:"space-y-2",children:[e.jsx(c,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:179",htmlFor:"services",children:"სერვისები და ინფორმაცია"}),e.jsx(p,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:180",id:"services",placeholder:"ჩამოთვალეთ ყველა სერვისი, ფასები, ნომრების ტიპები...",rows:5,value:t.services,onChange:s=>a({...t,services:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:189",className:"space-y-2",children:[e.jsx(c,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:190",htmlFor:"communicationStyle",children:"კომუნიკაციის სტილი"}),e.jsx(p,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:191",id:"communicationStyle",placeholder:"როგორ უნდა ურთიერთობდეს ბოტი მომხმარებლებთან...",rows:3,value:t.communicationStyle,onChange:s=>a({...t,communicationStyle:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:200",className:"space-y-2",children:[e.jsx(c,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:201",htmlFor:"restrictions",children:"შეზღუდვები"}),e.jsx(p,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:202",id:"restrictions",placeholder:"რა არ უნდა გააკეთოს ბოტმა...",rows:3,value:t.restrictions,onChange:s=>a({...t,restrictions:s.target.value})})]}),e.jsxs(m,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:211",onClick:B,className:"w-full",disabled:S.isPending,children:[e.jsx(w,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:212",className:"h-4 w-4 mr-2"}),"შენახვა"]})]})]})}),e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:220",className:"space-y-6",children:[e.jsxs(l,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:222",className:"shadow-elegant",children:[e.jsxs(i,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:223",children:[e.jsx(o,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:224",children:"წინასწარი ხედვა"}),e.jsx(d,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:225",children:"გენერირებული სისტემური პრომპტი"})]}),e.jsx(n,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:227",children:e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:228",className:"relative",children:[e.jsx("pre",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:229",className:"bg-secondary p-4 rounded-lg text-xs overflow-x-auto max-h-96",children:g()}),e.jsx(m,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:232",size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>v(g()),children:e.jsx(C,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:238",className:"h-3 w-3"})})]})})]}),u.length>0&&e.jsxs(l,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:246",className:"shadow-elegant",children:[e.jsxs(i,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:247",children:[e.jsx(o,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:248",children:"შენახული პრომპტები"}),e.jsxs(d,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:249",children:[u.length," პრომპტი"]})]}),e.jsx(n,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:251",className:"space-y-2",children:u.map(s=>e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:253",className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/5 transition-colors",children:[e.jsxs("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:257",className:"flex-1 cursor-pointer",onClick:()=>N(s),children:[e.jsx("p",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:258",className:"font-medium text-sm",children:s.name}),e.jsx("p",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:259",className:"text-xs text-muted-foreground",children:s.hotelName})]}),e.jsx(m,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:261",size:"sm",variant:"ghost",onClick:()=>j.mutate({id:s.id}),children:e.jsx(F,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:266",className:"h-4 w-4 text-destructive"})})]},s.id))})]})]})]})]})}):e.jsx("div",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:103",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary",children:e.jsxs(l,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:104",className:"max-w-md w-full shadow-elegant",children:[e.jsxs(i,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:105",children:[e.jsx(o,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:106",children:"შესვლა საჭიროა"}),e.jsx(d,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:107",children:"სისტემური პრომპტის შესაქმნელად გთხოვთ შეხვიდეთ სისტემაში"})]}),e.jsx(n,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:111",children:e.jsx(m,{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:112",asChild:!0,className:"w-full",children:e.jsx("a",{"data-loc":"client/src/pages/SystemPromptBuilder.tsx:113",href:T(),children:"შესვლა"})})})]})})}export{I as default};
