var Xe=e=>{throw TypeError(e)};var we=(e,t,r)=>t.has(e)||Xe("Cannot "+r);var i=(e,t,r)=>(we(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?Xe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),f=(e,t,r,s)=>(we(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),b=(e,t,r)=>(we(e,t,"access private method"),r);var le=(e,t,r,s)=>({set _(n){f(e,t,n,r)},get _(){return i(e,t,s)}});var Ct=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$r={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},st,ze,dr,Yr=(dr=class{constructor(){d(this,st,$r);d(this,ze,!1)}setTimeoutProvider(e){f(this,st,e)}setTimeout(e,t){return i(this,st).setTimeout(e,t)}clearTimeout(e){i(this,st).clearTimeout(e)}setInterval(e,t){return i(this,st).setInterval(e,t)}clearInterval(e){i(this,st).clearInterval(e)}},st=new WeakMap,ze=new WeakMap,dr),vt=new Yr;function Vr(e){setTimeout(e,0)}var zt=typeof window>"u"||"Deno"in globalThis;function k(){}function Zr(e,t){return typeof e=="function"?e(t):e}function je(e){return typeof e=="number"&&e>=0&&e!==1/0}function jr(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dt(e,t){return typeof e=="function"?e(t):e}function U(e,t){return typeof e=="function"?e(t):e}function tr(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:o,queryKey:c,stale:a}=e;if(c){if(s){if(t.queryHash!==Be(c,t.options))return!1}else if(!Vt(t.queryKey,c))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||o&&!o(t))}function er(e,t){const{exact:r,status:s,predicate:n,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(_t(t.options.mutationKey)!==_t(o))return!1}else if(!Vt(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function Be(e,t){return(t?.queryKeyHashFn||_t)(e)}function _t(e){return JSON.stringify(e,(t,r)=>_e(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function Vt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Vt(e[r],t[r])):!1}var Xr=Object.prototype.hasOwnProperty;function Je(e,t){if(e===t)return e;const r=rr(e)&&rr(t);if(!r&&!(_e(e)&&_e(t)))return t;const n=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),c=o.length,a=r?new Array(c):{};let u=0;for(let l=0;l<c;l++){const m=r?l:o[l],h=e[m],v=t[m];if(h===v){a[m]=h,(r?l<n:Xr.call(e,m))&&u++;continue}if(h===null||v===null||typeof h!="object"||typeof v!="object"){a[m]=v;continue}const p=Je(h,v);a[m]=p,p===h&&u++}return n===c&&u===n?e:a}function Zt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function rr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _e(e){if(!sr(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!sr(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sr(e){return Object.prototype.toString.call(e)==="[object Object]"}function ts(e){return new Promise(t=>{vt.setTimeout(t,e)})}function Ce(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Je(e,t):t}function es(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function rs(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var $e=Symbol();function _r(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===$e?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gn(e,t){return typeof e=="function"?e(...t):!!e}var mt,nt,Mt,pr,ss=(pr=class extends Ct{constructor(){super();d(this,mt);d(this,nt);d(this,Mt);f(this,Mt,t=>{if(!zt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){i(this,nt)||this.setEventListener(i(this,Mt))}onUnsubscribe(){var t;this.hasListeners()||((t=i(this,nt))==null||t.call(this),f(this,nt,void 0))}setEventListener(t){var r;f(this,Mt,t),(r=i(this,nt))==null||r.call(this),f(this,nt,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){i(this,mt)!==t&&(f(this,mt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof i(this,mt)=="boolean"?i(this,mt):globalThis.document?.visibilityState!=="hidden"}},mt=new WeakMap,nt=new WeakMap,Mt=new WeakMap,pr),Ye=new ss;function Re(){let e,t;const r=new Promise((n,o)=>{e=n,t=o});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}var ns=Vr;function is(){let e=[],t=0,r=a=>{a()},s=a=>{a()},n=ns;const o=a=>{t?e.push(a):n(()=>{r(a)})},c=()=>{const a=e;e=[],a.length&&n(()=>{s(()=>{a.forEach(u=>{r(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||c()}return u},batchCalls:a=>(...u)=>{o(()=>{a(...u)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var _=is(),Ft,it,It,yr,os=(yr=class extends Ct{constructor(){super();d(this,Ft,!0);d(this,it);d(this,It);f(this,It,t=>{if(!zt&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){i(this,it)||this.setEventListener(i(this,It))}onUnsubscribe(){var t;this.hasListeners()||((t=i(this,it))==null||t.call(this),f(this,it,void 0))}setEventListener(t){var r;f(this,It,t),(r=i(this,it))==null||r.call(this),f(this,it,t(this.setOnline.bind(this)))}setOnline(t){i(this,Ft)!==t&&(f(this,Ft,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return i(this,Ft)}},Ft=new WeakMap,it=new WeakMap,It=new WeakMap,yr),me=new os;function as(e){return Math.min(1e3*2**e,3e4)}function Cr(e){return(e??"online")==="online"?me.isOnline():!0}var Ee=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Rr(e){let t=!1,r=0,s;const n=Re(),o=()=>n.status!=="pending",c=y=>{if(!o()){const P=new Ee(y);v(P),e.onCancel?.(P)}},a=()=>{t=!0},u=()=>{t=!1},l=()=>Ye.isFocused()&&(e.networkMode==="always"||me.isOnline())&&e.canRun(),m=()=>Cr(e.networkMode)&&e.canRun(),h=y=>{o()||(s?.(),n.resolve(y))},v=y=>{o()||(s?.(),n.reject(y))},p=()=>new Promise(y=>{s=P=>{(o()||l())&&y(P)},e.onPause?.()}).then(()=>{s=void 0,o()||e.onContinue?.()}),g=()=>{if(o())return;let y;const P=r===0?e.initialPromise:void 0;try{y=P??e.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(h).catch(C=>{if(o())return;const x=e.retry??(zt?0:3),J=e.retryDelay??as,et=typeof J=="function"?J(r,C):J,pt=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,C);if(t||!pt){v(C);return}r++,e.onFail?.(r,C),ts(et).then(()=>l()?void 0:p()).then(()=>{t?v(C):g()})})};return{promise:n,status:()=>n.status,cancel:c,continue:()=>(s?.(),n),cancelRetry:a,continueRetry:u,canStart:m,start:()=>(m()?g():p().then(g),n)}}var bt,vr,Er=(vr=class{constructor(){d(this,bt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),je(this.gcTime)&&f(this,bt,vt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zt?1/0:300*1e3))}clearGcTimeout(){i(this,bt)&&(vt.clearTimeout(i(this,bt)),f(this,bt,void 0))}},bt=new WeakMap,vr),gt,At,Q,Ot,R,Xt,Pt,L,$,mr,us=(mr=class extends Er{constructor(t){super();d(this,L);d(this,gt);d(this,At);d(this,Q);d(this,Ot);d(this,R);d(this,Xt);d(this,Pt);f(this,Pt,!1),f(this,Xt,t.defaultOptions),this.setOptions(t.options),this.observers=[],f(this,Ot,t.client),f(this,Q,i(this,Ot).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,f(this,gt,nr(this.options)),this.state=t.state??i(this,gt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return i(this,R)?.promise}setOptions(t){if(this.options={...i(this,Xt),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=nr(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),f(this,gt,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&i(this,Q).remove(this)}setData(t,r){const s=Ce(this.state.data,t,this.options);return b(this,L,$).call(this,{data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(t,r){b(this,L,$).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){const r=i(this,R)?.promise;return i(this,R)?.cancel(t),r?r.then(k).catch(k):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(i(this,gt))}isActive(){return this.observers.some(t=>U(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$e||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jr(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),i(this,R)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),i(this,R)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),i(this,Q).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(i(this,R)&&(i(this,Pt)?i(this,R).cancel({revert:!0}):i(this,R).cancelRetry()),this.scheduleGc()),i(this,Q).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||b(this,L,$).call(this,{type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&i(this,R)?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(i(this,R))return i(this,R).continueRetry(),i(this,R).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(l=>l.options.queryFn);u&&this.setOptions(u.options)}const s=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(f(this,Pt,!0),s.signal)})},o=()=>{const u=_r(this.options,r),m=(()=>{const h={client:i(this,Ot),queryKey:this.queryKey,meta:this.meta};return n(h),h})();return f(this,Pt,!1),this.options.persister?this.options.persister(u,m,this):u(m)},a=(()=>{const u={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:i(this,Ot),state:this.state,fetchFn:o};return n(u),u})();this.options.behavior?.onFetch(a,this),f(this,At,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&b(this,L,$).call(this,{type:"fetch",meta:a.fetchOptions?.meta}),f(this,R,Rr({initialPromise:r?.initialPromise,fn:a.fetchFn,onCancel:u=>{u instanceof Ee&&u.revert&&this.setState({...i(this,At),fetchStatus:"idle"}),s.abort()},onFail:(u,l)=>{b(this,L,$).call(this,{type:"failed",failureCount:u,error:l})},onPause:()=>{b(this,L,$).call(this,{type:"pause"})},onContinue:()=>{b(this,L,$).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const u=await i(this,R).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),i(this,Q).config.onSuccess?.(u,this),i(this,Q).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Ee){if(u.silent)return i(this,R).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw b(this,L,$).call(this,{type:"error",error:u}),i(this,Q).config.onError?.(u,this),i(this,Q).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},gt=new WeakMap,At=new WeakMap,Q=new WeakMap,Ot=new WeakMap,R=new WeakMap,Xt=new WeakMap,Pt=new WeakMap,L=new WeakSet,$=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tr(s.data,this.options),fetchMeta:t.meta??null};case"success":const n={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return f(this,At,t.manual?n:void 0),n;case"error":const o=t.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),_.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),i(this,Q).notify({query:this,type:"updated",action:t})})},mr);function Tr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cr(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nr(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var F,O,te,T,wt,Dt,Y,ot,ee,Qt,qt,xt,St,at,kt,w,$t,Te,Me,Fe,Ie,Ae,De,Qe,Fr,br,Mr=(br=class extends Ct{constructor(t,r){super();d(this,w);d(this,F);d(this,O);d(this,te);d(this,T);d(this,wt);d(this,Dt);d(this,Y);d(this,ot);d(this,ee);d(this,Qt);d(this,qt);d(this,xt);d(this,St);d(this,at);d(this,kt,new Set);this.options=r,f(this,F,t),f(this,ot,null),f(this,Y,Re()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,O).addObserver(this),ir(i(this,O),this.options)?b(this,w,$t).call(this):this.updateResult(),b(this,w,Ie).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qe(i(this,O),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qe(i(this,O),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,w,Ae).call(this),b(this,w,De).call(this),i(this,O).removeObserver(this)}setOptions(t){const r=this.options,s=i(this,O);if(this.options=i(this,F).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof U(this.options.enabled,i(this,O))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,w,Qe).call(this),i(this,O).setOptions(this.options),r._defaulted&&!Zt(this.options,r)&&i(this,F).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,O),observer:this});const n=this.hasListeners();n&&or(i(this,O),s,this.options,r)&&b(this,w,$t).call(this),this.updateResult(),n&&(i(this,O)!==s||U(this.options.enabled,i(this,O))!==U(r.enabled,i(this,O))||dt(this.options.staleTime,i(this,O))!==dt(r.staleTime,i(this,O)))&&b(this,w,Te).call(this);const o=b(this,w,Me).call(this);n&&(i(this,O)!==s||U(this.options.enabled,i(this,O))!==U(r.enabled,i(this,O))||o!==i(this,at))&&b(this,w,Fe).call(this,o)}getOptimisticResult(t){const r=i(this,F).getQueryCache().build(i(this,F),t),s=this.createResult(r,t);return ls(this,s)&&(f(this,T,s),f(this,Dt,this.options),f(this,wt,i(this,O).state)),s}getCurrentResult(){return i(this,T)}trackResult(t,r){return new Proxy(t,{get:(s,n)=>(this.trackProp(n),r?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&i(this,Y).status==="pending"&&i(this,Y).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,n))})}trackProp(t){i(this,kt).add(t)}getCurrentQuery(){return i(this,O)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=i(this,F).defaultQueryOptions(t),s=i(this,F).getQueryCache().build(i(this,F),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return b(this,w,$t).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,T)))}createResult(t,r){const s=i(this,O),n=this.options,o=i(this,T),c=i(this,wt),a=i(this,Dt),l=t!==s?t.state:i(this,te),{state:m}=t;let h={...m},v=!1,p;if(r._optimisticResults){const D=this.hasListeners(),ue=!D&&ir(t,r),Et=D&&or(t,s,r,n);(ue||Et)&&(h={...h,...Tr(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:P}=h;p=h.data;let C=!1;if(r.placeholderData!==void 0&&p===void 0&&P==="pending"){let D;o?.isPlaceholderData&&r.placeholderData===a?.placeholderData?(D=o.data,C=!0):D=typeof r.placeholderData=="function"?r.placeholderData(i(this,qt)?.state.data,i(this,qt)):r.placeholderData,D!==void 0&&(P="success",p=Ce(o?.data,D,r),v=!0)}if(r.select&&p!==void 0&&!C)if(o&&p===c?.data&&r.select===i(this,ee))p=i(this,Qt);else try{f(this,ee,r.select),p=r.select(p),p=Ce(o?.data,p,r),f(this,Qt,p),f(this,ot,null)}catch(D){f(this,ot,D)}i(this,ot)&&(g=i(this,ot),p=i(this,Qt),y=Date.now(),P="error");const x=h.fetchStatus==="fetching",J=P==="pending",et=P==="error",pt=J&&x,Jt=p!==void 0,H={status:P,fetchStatus:h.fetchStatus,isPending:J,isSuccess:P==="success",isError:et,isInitialLoading:pt,isLoading:pt,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!J,isLoadingError:et&&!Jt,isPaused:h.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:et&&Jt,isStale:Ve(t,r),refetch:this.refetch,promise:i(this,Y),isEnabled:U(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=ce=>{H.status==="error"?ce.reject(H.error):H.data!==void 0&&ce.resolve(H.data)},ue=()=>{const ce=f(this,Y,H.promise=Re());D(ce)},Et=i(this,Y);switch(Et.status){case"pending":t.queryHash===s.queryHash&&D(Et);break;case"fulfilled":(H.status==="error"||H.data!==Et.value)&&ue();break;case"rejected":(H.status!=="error"||H.error!==Et.reason)&&ue();break}}return H}updateResult(){const t=i(this,T),r=this.createResult(i(this,O),this.options);if(f(this,wt,i(this,O).state),f(this,Dt,this.options),i(this,wt).data!==void 0&&f(this,qt,i(this,O)),Zt(r,t))return;f(this,T,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,o=typeof n=="function"?n():n;if(o==="all"||!o&&!i(this,kt).size)return!0;const c=new Set(o??i(this,kt));return this.options.throwOnError&&c.add("error"),Object.keys(i(this,T)).some(a=>{const u=a;return i(this,T)[u]!==t[u]&&c.has(u)})};b(this,w,Fr).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,w,Ie).call(this)}},F=new WeakMap,O=new WeakMap,te=new WeakMap,T=new WeakMap,wt=new WeakMap,Dt=new WeakMap,Y=new WeakMap,ot=new WeakMap,ee=new WeakMap,Qt=new WeakMap,qt=new WeakMap,xt=new WeakMap,St=new WeakMap,at=new WeakMap,kt=new WeakMap,w=new WeakSet,$t=function(t){b(this,w,Qe).call(this);let r=i(this,O).fetch(this.options,t);return t?.throwOnError||(r=r.catch(k)),r},Te=function(){b(this,w,Ae).call(this);const t=dt(this.options.staleTime,i(this,O));if(zt||i(this,T).isStale||!je(t))return;const s=jr(i(this,T).dataUpdatedAt,t)+1;f(this,xt,vt.setTimeout(()=>{i(this,T).isStale||this.updateResult()},s))},Me=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,O)):this.options.refetchInterval)??!1},Fe=function(t){b(this,w,De).call(this),f(this,at,t),!(zt||U(this.options.enabled,i(this,O))===!1||!je(i(this,at))||i(this,at)===0)&&f(this,St,vt.setInterval(()=>{(this.options.refetchIntervalInBackground||Ye.isFocused())&&b(this,w,$t).call(this)},i(this,at)))},Ie=function(){b(this,w,Te).call(this),b(this,w,Fe).call(this,b(this,w,Me).call(this))},Ae=function(){i(this,xt)&&(vt.clearTimeout(i(this,xt)),f(this,xt,void 0))},De=function(){i(this,St)&&(vt.clearInterval(i(this,St)),f(this,St,void 0))},Qe=function(){const t=i(this,F).getQueryCache().build(i(this,F),this.options);if(t===i(this,O))return;const r=i(this,O);f(this,O,t),f(this,te,t.state),this.hasListeners()&&(r?.removeObserver(this),t.addObserver(this))},Fr=function(t){_.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(i(this,T))}),i(this,F).getQueryCache().notify({query:i(this,O),type:"observerResultsUpdated"})})},br);function cs(e,t){return U(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ir(e,t){return cs(e,t)||e.state.data!==void 0&&qe(e,t,t.refetchOnMount)}function qe(e,t,r){if(U(t.enabled,e)!==!1&&dt(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Ve(e,t)}return!1}function or(e,t,r,s){return(e!==t||U(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ve(e,r)}function Ve(e,t){return U(t.enabled,e)!==!1&&e.isStaleByTime(dt(t.staleTime,e))}function ls(e,t){return!Zt(e.getCurrentResult(),t)}function be(e){return{onFetch:(t,r)=>{const s=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const l=async()=>{let m=!1;const h=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=_r(t.options,t.fetchOptions),p=async(g,y,P)=>{if(m)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const Jt={client:t.client,queryKey:t.queryKey,pageParam:y,direction:P?"backward":"forward",meta:t.options.meta};return h(Jt),Jt})(),J=await v(x),{maxPages:et}=t.options,pt=P?rs:es;return{pages:pt(g.pages,J,et),pageParams:pt(g.pageParams,y,et)}};if(n&&o.length){const g=n==="backward",y=g?Ir:ke,P={pages:o,pageParams:c},C=y(s,P);a=await p(P,C,g)}else{const g=e??o.length;do{const y=u===0?c[0]??s.initialPageParam:ke(s,a);if(u>0&&y==null)break;a=await p(a,y),u++}while(u<g)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function ke(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Ir(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function hs(e,t){return t?ke(e,t)!=null:!1}function fs(e,t){return!t||!e.getPreviousPageParam?!1:Ir(e,t)!=null}var On=class extends Mr{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:be()})}getOptimisticResult(e){return e.behavior=be(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,s=super.createResult(e,t),{isFetching:n,isRefetching:o,isError:c,isRefetchError:a}=s,u=r.fetchMeta?.fetchMore?.direction,l=c&&u==="forward",m=n&&u==="forward",h=c&&u==="backward",v=n&&u==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hs(t,r.data),hasPreviousPage:fs(t,r.data),isFetchNextPageError:l,isFetchingNextPage:m,isFetchPreviousPageError:h,isFetchingPreviousPage:v,isRefetchError:a&&!l&&!h,isRefetching:o&&!m&&!v}}},re,G,M,jt,W,rt,gr,ds=(gr=class extends Er{constructor(t){super();d(this,W);d(this,re);d(this,G);d(this,M);d(this,jt);f(this,re,t.client),this.mutationId=t.mutationId,f(this,M,t.mutationCache),f(this,G,[]),this.state=t.state||Ar(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){i(this,G).includes(t)||(i(this,G).push(t),this.clearGcTimeout(),i(this,M).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){f(this,G,i(this,G).filter(r=>r!==t)),this.scheduleGc(),i(this,M).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){i(this,G).length||(this.state.status==="pending"?this.scheduleGc():i(this,M).remove(this))}continue(){return i(this,jt)?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{b(this,W,rt).call(this,{type:"continue"})},s={client:i(this,re),meta:this.options.meta,mutationKey:this.options.mutationKey};f(this,jt,Rr({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(c,a)=>{b(this,W,rt).call(this,{type:"failed",failureCount:c,error:a})},onPause:()=>{b(this,W,rt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>i(this,M).canRun(this)}));const n=this.state.status==="pending",o=!i(this,jt).canStart();try{if(n)r();else{b(this,W,rt).call(this,{type:"pending",variables:t,isPaused:o}),await i(this,M).config.onMutate?.(t,this,s);const a=await this.options.onMutate?.(t,s);a!==this.state.context&&b(this,W,rt).call(this,{type:"pending",context:a,variables:t,isPaused:o})}const c=await i(this,jt).start();return await i(this,M).config.onSuccess?.(c,t,this.state.context,this,s),await this.options.onSuccess?.(c,t,this.state.context,s),await i(this,M).config.onSettled?.(c,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(c,null,t,this.state.context,s),b(this,W,rt).call(this,{type:"success",data:c}),c}catch(c){try{throw await i(this,M).config.onError?.(c,t,this.state.context,this,s),await this.options.onError?.(c,t,this.state.context,s),await i(this,M).config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,c,t,this.state.context,s),c}finally{b(this,W,rt).call(this,{type:"error",error:c})}}finally{i(this,M).runNext(this)}}},re=new WeakMap,G=new WeakMap,M=new WeakMap,jt=new WeakMap,W=new WeakSet,rt=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_.batch(()=>{i(this,G).forEach(s=>{s.onMutationUpdate(t)}),i(this,M).notify({mutation:this,type:"updated",action:t})})},gr);function Ar(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var V,K,se,Or,ps=(Or=class extends Ct{constructor(t={}){super();d(this,V);d(this,K);d(this,se);this.config=t,f(this,V,new Set),f(this,K,new Map),f(this,se,0)}build(t,r,s){const n=new ds({client:t,mutationCache:this,mutationId:++le(this,se)._,options:t.defaultMutationOptions(r),state:s});return this.add(n),n}add(t){i(this,V).add(t);const r=he(t);if(typeof r=="string"){const s=i(this,K).get(r);s?s.push(t):i(this,K).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(i(this,V).delete(t)){const r=he(t);if(typeof r=="string"){const s=i(this,K).get(r);if(s)if(s.length>1){const n=s.indexOf(t);n!==-1&&s.splice(n,1)}else s[0]===t&&i(this,K).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=he(t);if(typeof r=="string"){const n=i(this,K).get(r)?.find(o=>o.state.status==="pending");return!n||n===t}else return!0}runNext(t){const r=he(t);return typeof r=="string"?i(this,K).get(r)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_.batch(()=>{i(this,V).forEach(t=>{this.notify({type:"removed",mutation:t})}),i(this,V).clear(),i(this,K).clear()})}getAll(){return Array.from(i(this,V))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>er(r,s))}findAll(t={}){return this.getAll().filter(r=>er(t,r))}notify(t){_.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _.batch(()=>Promise.all(t.map(r=>r.continue().catch(k))))}},V=new WeakMap,K=new WeakMap,se=new WeakMap,Or);function he(e){return e.options.scope?.id}var Z,ut,I,X,tt,ye,Ue,Pr,Pn=(Pr=class extends Ct{constructor(t,r){super();d(this,tt);d(this,Z);d(this,ut);d(this,I);d(this,X);f(this,Z,t),this.setOptions(r),this.bindMethods(),b(this,tt,ye).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=i(this,Z).defaultMutationOptions(t),Zt(this.options,r)||i(this,Z).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,I),observer:this}),r?.mutationKey&&this.options.mutationKey&&_t(r.mutationKey)!==_t(this.options.mutationKey)?this.reset():i(this,I)?.state.status==="pending"&&i(this,I).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||i(this,I)?.removeObserver(this)}onMutationUpdate(t){b(this,tt,ye).call(this),b(this,tt,Ue).call(this,t)}getCurrentResult(){return i(this,ut)}reset(){i(this,I)?.removeObserver(this),f(this,I,void 0),b(this,tt,ye).call(this),b(this,tt,Ue).call(this)}mutate(t,r){return f(this,X,r),i(this,I)?.removeObserver(this),f(this,I,i(this,Z).getMutationCache().build(i(this,Z),this.options)),i(this,I).addObserver(this),i(this,I).execute(t)}},Z=new WeakMap,ut=new WeakMap,I=new WeakMap,X=new WeakMap,tt=new WeakSet,ye=function(){const t=i(this,I)?.state??Ar();f(this,ut,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Ue=function(t){_.batch(()=>{if(i(this,X)&&this.hasListeners()){const r=i(this,ut).variables,s=i(this,ut).context,n={client:i(this,Z),meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(i(this,X).onSuccess?.(t.data,r,s,n),i(this,X).onSettled?.(t.data,null,r,s,n)):t?.type==="error"&&(i(this,X).onError?.(t.error,r,s,n),i(this,X).onSettled?.(void 0,t.error,r,s,n))}this.listeners.forEach(r=>{r(i(this,ut))})})},Pr);function ar(e,t){const r=new Set(t);return e.filter(s=>!r.has(s))}function ys(e,t,r){const s=e.slice(0);return s[t]=r,s}var Ut,A,Lt,Kt,q,ct,ne,ie,oe,E,Le,Ke,Ne,He,Ge,wr,wn=(wr=class extends Ct{constructor(t,r,s){super();d(this,E);d(this,Ut);d(this,A);d(this,Lt);d(this,Kt);d(this,q);d(this,ct);d(this,ne);d(this,ie);d(this,oe,[]);f(this,Ut,t),f(this,Kt,s),f(this,Lt,[]),f(this,q,[]),f(this,A,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&i(this,q).forEach(t=>{t.subscribe(r=>{b(this,E,He).call(this,t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,i(this,q).forEach(t=>{t.destroy()})}setQueries(t,r){f(this,Lt,t),f(this,Kt,r),_.batch(()=>{const s=i(this,q),n=b(this,E,Ne).call(this,i(this,Lt));f(this,oe,n),n.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const o=n.map(h=>h.observer),c=o.map(h=>h.getCurrentResult()),a=s.length!==o.length,u=o.some((h,v)=>h!==s[v]),l=a||u,m=l?!0:c.some((h,v)=>{const p=i(this,A)[v];return!p||!Zt(h,p)});!l&&!m||(l&&f(this,q,o),f(this,A,c),this.hasListeners()&&(l&&(ar(s,o).forEach(h=>{h.destroy()}),ar(o,s).forEach(h=>{h.subscribe(v=>{b(this,E,He).call(this,h,v)})})),b(this,E,Ge).call(this)))})}getCurrentResult(){return i(this,A)}getQueries(){return i(this,q).map(t=>t.getCurrentQuery())}getObservers(){return i(this,q)}getOptimisticResult(t,r){const s=b(this,E,Ne).call(this,t),n=s.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[n,o=>b(this,E,Ke).call(this,o??n,r),()=>b(this,E,Le).call(this,n,s)]}},Ut=new WeakMap,A=new WeakMap,Lt=new WeakMap,Kt=new WeakMap,q=new WeakMap,ct=new WeakMap,ne=new WeakMap,ie=new WeakMap,oe=new WeakMap,E=new WeakSet,Le=function(t,r){return r.map((s,n)=>{const o=t[n];return s.defaultedQueryOptions.notifyOnChangeProps?o:s.observer.trackResult(o,c=>{r.forEach(a=>{a.observer.trackProp(c)})})})},Ke=function(t,r){return r?((!i(this,ct)||i(this,A)!==i(this,ie)||r!==i(this,ne))&&(f(this,ne,r),f(this,ie,i(this,A)),f(this,ct,Je(i(this,ct),r(t)))),i(this,ct)):t},Ne=function(t){const r=new Map(i(this,q).map(n=>[n.options.queryHash,n])),s=[];return t.forEach(n=>{const o=i(this,Ut).defaultQueryOptions(n),c=r.get(o.queryHash);c?s.push({defaultedQueryOptions:o,observer:c}):s.push({defaultedQueryOptions:o,observer:new Mr(i(this,Ut),o)})}),s},He=function(t,r){const s=i(this,q).indexOf(t);s!==-1&&(f(this,A,ys(i(this,A),s,r)),b(this,E,Ge).call(this))},Ge=function(){if(this.hasListeners()){const t=i(this,ct),r=b(this,E,Le).call(this,i(this,A),i(this,oe)),s=b(this,E,Ke).call(this,r,i(this,Kt)?.combine);t!==s&&_.batch(()=>{this.listeners.forEach(n=>{n(i(this,A))})})}},wr),z,xr,vs=(xr=class extends Ct{constructor(t={}){super();d(this,z);this.config=t,f(this,z,new Map)}build(t,r,s){const n=r.queryKey,o=r.queryHash??Be(n,r);let c=this.get(o);return c||(c=new us({client:t,queryKey:n,queryHash:o,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(c)),c}add(t){i(this,z).has(t.queryHash)||(i(this,z).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=i(this,z).get(t.queryHash);r&&(t.destroy(),r===t&&i(this,z).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return i(this,z).get(t)}getAll(){return[...i(this,z).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>tr(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>tr(t,s)):r}notify(t){_.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},z=new WeakMap,xr),S,lt,ht,Nt,Ht,ft,Gt,Wt,Sr,xn=(Sr=class{constructor(e={}){d(this,S);d(this,lt);d(this,ht);d(this,Nt);d(this,Ht);d(this,ft);d(this,Gt);d(this,Wt);f(this,S,e.queryCache||new vs),f(this,lt,e.mutationCache||new ps),f(this,ht,e.defaultOptions||{}),f(this,Nt,new Map),f(this,Ht,new Map),f(this,ft,0)}mount(){le(this,ft)._++,i(this,ft)===1&&(f(this,Gt,Ye.subscribe(async e=>{e&&(await this.resumePausedMutations(),i(this,S).onFocus())})),f(this,Wt,me.subscribe(async e=>{e&&(await this.resumePausedMutations(),i(this,S).onOnline())})))}unmount(){var e,t;le(this,ft)._--,i(this,ft)===0&&((e=i(this,Gt))==null||e.call(this),f(this,Gt,void 0),(t=i(this,Wt))==null||t.call(this),f(this,Wt,void 0))}isFetching(e){return i(this,S).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return i(this,lt).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return i(this,S).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=i(this,S).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(dt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return i(this,S).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),o=i(this,S).get(s.queryHash)?.state.data,c=Zr(t,o);if(c!==void 0)return i(this,S).build(this,s).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return _.batch(()=>i(this,S).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return i(this,S).get(t.queryHash)?.state}removeQueries(e){const t=i(this,S);_.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=i(this,S);return _.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=_.batch(()=>i(this,S).findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then(k).catch(k)}invalidateQueries(e,t={}){return _.batch(()=>(i(this,S).findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=_.batch(()=>i(this,S).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(k)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(k)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=i(this,S).build(this,t);return r.isStaleByTime(dt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(k).catch(k)}fetchInfiniteQuery(e){return e.behavior=be(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(k).catch(k)}ensureInfiniteQueryData(e){return e.behavior=be(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return me.isOnline()?i(this,lt).resumePausedMutations():Promise.resolve()}getQueryCache(){return i(this,S)}getMutationCache(){return i(this,lt)}getDefaultOptions(){return i(this,ht)}setDefaultOptions(e){f(this,ht,e)}setQueryDefaults(e,t){i(this,Nt).set(_t(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...i(this,Nt).values()],r={};return t.forEach(s=>{Vt(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){i(this,Ht).set(_t(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...i(this,Ht).values()],r={};return t.forEach(s=>{Vt(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...i(this,ht).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Be(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$e&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...i(this,ht).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){i(this,S).clear(),i(this,lt).clear()}},S=new WeakMap,lt=new WeakMap,ht=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,ft=new WeakMap,Gt=new WeakMap,Wt=new WeakMap,Sr);function Bt(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}const ms=typeof Symbol=="function"&&!!Symbol.asyncIterator;function Sn(e){return ms&&Bt(e)&&Symbol.asyncIterator in e}var bs=Object.create,Dr=Object.defineProperty,gs=Object.getOwnPropertyDescriptor,Qr=Object.getOwnPropertyNames,Os=Object.getPrototypeOf,Ps=Object.prototype.hasOwnProperty,ae=(e,t)=>function(){return t||(0,e[Qr(e)[0]])((t={exports:{}}).exports,t),t.exports},ws=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Qr(t),o=0,c=n.length,a;o<c;o++)a=n[o],!Ps.call(e,a)&&a!==r&&Dr(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(s=gs(t,a))||s.enumerable});return e},Oe=(e,t,r)=>(r=e!=null?bs(Os(e)):{},ws(Dr(r,"default",{value:e,enumerable:!0}),e));const qr=()=>{},ur=e=>{Object.freeze&&Object.freeze(e)};function kr(e,t,r){var s;const n=t.join(".");return(s=r[n])!==null&&s!==void 0||(r[n]=new Proxy(qr,{get(o,c){if(!(typeof c!="string"||c==="then"))return kr(e,[...t,c],r)},apply(o,c,a){const u=t[t.length-1];let l={args:a,path:t};return u==="call"?l={args:a.length>=2?[a[1]]:[],path:t.slice(0,-1)}:u==="apply"&&(l={args:a.length>=2?a[1]:[],path:t.slice(0,-1)}),ur(l.args),ur(l.path),e(l)}})),r[n]}const xs=e=>kr(e,[],Object.create(null)),Ss=e=>new Proxy(qr,{get(t,r){if(r!=="then")return e(r)}});var Ur=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(s){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),js=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Ur().default;function s(n,o){if(r(n)!="object"||!n)return n;var c=n[Symbol.toPrimitive];if(c!==void 0){var a=c.call(n,o||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),_s=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Ur().default,s=js();function n(o){var c=s(o,"string");return r(c)=="symbol"?c:c+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Lr=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=_s();function s(n,o,c){return(o=r(o))in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ze=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=Lr();function s(o,c){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);c&&(u=u.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),a.push.apply(a,u)}return a}function n(o){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?arguments[c]:{};c%2?s(Object(a),!0).forEach(function(u){r(o,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(a,u))})}return o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});Oe(Ze());Oe(Lr());var fe=Oe(Ze());function Cs(e,t){if("error"in e){const s=t.deserialize(e.error);return{ok:!1,error:(0,fe.default)((0,fe.default)({},e),{},{error:s})}}return{ok:!0,result:(0,fe.default)((0,fe.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:t.deserialize(e.result.data)})}}var xe=class extends Error{constructor(){super("Unable to transform response from server")}};function Rs(e,t){let r;try{r=Cs(e,t)}catch{throw new xe}if(!r.ok&&(!Bt(r.error.error)||typeof r.error.error.code!="number"))throw new xe;if(r.ok&&!Bt(r.result))throw new xe;return r}Oe(Ze());function Pe(e){const t={subscribe(r){let s=null,n=!1,o=!1,c=!1;function a(){if(s===null){c=!0;return}o||(o=!0,typeof s=="function"?s():s&&s.unsubscribe())}return s=e({next(u){var l;n||(l=r.next)===null||l===void 0||l.call(r,u)},error(u){var l;n||(n=!0,(l=r.error)===null||l===void 0||l.call(r,u),a())},complete(){var u;n||(n=!0,(u=r.complete)===null||u===void 0||u.call(r),a())}}),c&&a(),{unsubscribe:a}},pipe(...r){return r.reduce(Es,t)}};return t}function Es(e,t){return t(e)}function Ts(e){const t=new AbortController;return new Promise((s,n)=>{let o=!1;function c(){o||(o=!0,a.unsubscribe())}t.signal.addEventListener("abort",()=>{n(t.signal.reason)});const a=e.subscribe({next(u){o=!0,s(u),c()},error(u){n(u)},complete(){t.abort(),c()}})})}var Ms=Object.create,Kr=Object.defineProperty,Fs=Object.getOwnPropertyDescriptor,Nr=Object.getOwnPropertyNames,Is=Object.getPrototypeOf,As=Object.prototype.hasOwnProperty,B=(e,t)=>function(){return t||(0,e[Nr(e)[0]])((t={exports:{}}).exports,t),t.exports},Ds=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Nr(t),o=0,c=n.length,a;o<c;o++)a=n[o],!As.call(e,a)&&a!==r&&Kr(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(s=Fs(t,a))||s.enumerable});return e},j=(e,t,r)=>(r=e!=null?Ms(Is(e)):{},Ds(t||!e||!e.__esModule?Kr(r,"default",{value:e,enumerable:!0}):r,e)),Hr=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(s){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Qs=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Hr().default;function s(n,o){if(r(n)!="object"||!n)return n;var c=n[Symbol.toPrimitive];if(c!==void 0){var a=c.call(n,o||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),qs=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Hr().default,s=Qs();function n(o){var c=s(o,"string");return r(c)=="symbol"?c:c+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Rt=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=qs();function s(n,o,c){return(o=r(o))in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),N=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=Rt();function s(o,c){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);c&&(u=u.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),a.push.apply(a,u)}return a}function n(o){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?arguments[c]:{};c%2?s(Object(a),!0).forEach(function(u){r(o,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(a,u))})}return o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});function ks(e){return t=>{let r=0,s=null;const n=[];function o(){s||(s=t.subscribe({next(a){for(const l of n){var u;(u=l.next)===null||u===void 0||u.call(l,a)}},error(a){for(const l of n){var u;(u=l.error)===null||u===void 0||u.call(l,a)}},complete(){for(const u of n){var a;(a=u.complete)===null||a===void 0||a.call(u)}}}))}function c(){if(r===0&&s){const a=s;s=null,a.unsubscribe()}}return Pe(a=>(r++,n.push(a),o(),{unsubscribe(){r--,c();const u=n.findIndex(l=>l===a);u>-1&&n.splice(u,1)}}))}}function Us(e){let t=e;const r=[],s=c=>{t!==void 0&&c.next(t),r.push(c)},n=c=>{r.splice(r.indexOf(c),1)},o=Pe(c=>(s(c),()=>{n(c)}));return o.next=c=>{if(t!==c){t=c;for(const a of r)a.next(c)}},o.get=()=>t,o}function Ls(e){return Pe(t=>{function r(n=0,o=e.op){const c=e.links[n];if(!c)throw new Error("No more links to execute - did you forget to add an ending link?");return c({op:o,next(u){return r(n+1,u)}})}return r().subscribe(t)})}var de=j(Rt(),1),Tt=j(N(),1);function Ks(e){return e instanceof ge}function Ns(e){return Bt(e)&&Bt(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function Hs(e,t){return typeof e=="string"?e:Bt(e)&&typeof e.message=="string"?e.message:t}var ge=class ve extends Error{constructor(t,r){var s,n;const o=r?.cause;super(t,{cause:o}),(0,de.default)(this,"cause",void 0),(0,de.default)(this,"shape",void 0),(0,de.default)(this,"data",void 0),(0,de.default)(this,"meta",void 0),this.meta=r?.meta,this.cause=o,this.shape=r==null||(s=r.result)===null||s===void 0?void 0:s.error,this.data=r==null||(n=r.result)===null||n===void 0?void 0:n.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,ve.prototype)}static from(t,r={}){const s=t;return Ks(s)?(r.meta&&(s.meta=(0,Tt.default)((0,Tt.default)({},s.meta),r.meta)),s):Ns(s)?new ve(s.error.message,(0,Tt.default)((0,Tt.default)({},r),{},{result:s})):new ve(Hs(s,"Unknown error"),(0,Tt.default)((0,Tt.default)({},r),{},{cause:s}))}};function Gs(e){const t=e;return t?"input"in t?t:{input:t,output:t}:{input:{serialize:r=>r,deserialize:r=>r},output:{serialize:r=>r,deserialize:r=>r}}}const cr=e=>typeof e=="function";function Ws(e){if(e)return e;if(typeof window<"u"&&cr(window.fetch))return window.fetch;if(typeof globalThis<"u"&&cr(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var Yt=j(N());function zs(e){return{url:e.url.toString(),fetch:e.fetch,transformer:Gs(e.transformer),methodOverride:e.methodOverride}}function Bs(e){const t={};for(let r=0;r<e.length;r++){const s=e[r];t[r]=s}return t}const Js={query:"GET",mutation:"POST",subscription:"PATCH"};function Gr(e){return"input"in e?e.transformer.input.serialize(e.input):Bs(e.inputs.map(t=>e.transformer.input.serialize(t)))}const Wr=e=>{const t=e.url.split("?");let s=t[0].replace(/\/$/,"")+"/"+e.path;const n=[];if(t[1]&&n.push(t[1]),"inputs"in e&&n.push("batch=1"),e.type==="query"||e.type==="subscription"){const o=Gr(e);o!==void 0&&e.methodOverride!=="POST"&&n.push(`input=${encodeURIComponent(JSON.stringify(o))}`)}return n.length&&(s+="?"+n.join("&")),s},$s=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;const t=Gr(e);return t!==void 0?JSON.stringify(t):void 0},Ys=e=>tn((0,Yt.default)((0,Yt.default)({},e),{},{contentTypeHeader:"application/json",getUrl:Wr,getBody:$s}));var Vs=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const Zs=e=>{var t;if(e?.aborted)throw(t=e.throwIfAborted)===null||t===void 0||t.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new Vs};async function Xs(e){var t;Zs(e.signal);const r=e.getUrl(e),s=e.getBody(e),n=(t=e.methodOverride)!==null&&t!==void 0?t:Js[e.type],o=await(async()=>{const a=await e.headers();return Symbol.iterator in a?Object.fromEntries(a):a})(),c=(0,Yt.default)((0,Yt.default)((0,Yt.default)({},e.contentTypeHeader&&n!=="GET"?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),o);return Ws(e.fetch)(r,{method:n,signal:e.signal,body:s,headers:c})}async function tn(e){const t={},r=await Xs(e);t.response=r;const s=await r.json();return t.responseJSON=s,{json:s,meta:t}}j(N(),1);const lr=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function hr(e){let t=null,r=null;const s=()=>{clearTimeout(r),r=null,t=null};function n(a){const u=[[]];let l=0;for(;;){const v=a[l];if(!v)break;const p=u[u.length-1];if(v.aborted){var m;(m=v.reject)===null||m===void 0||m.call(v,new Error("Aborted")),l++;continue}if(e.validate(p.concat(v).map(y=>y.key))){p.push(v),l++;continue}if(p.length===0){var h;(h=v.reject)===null||h===void 0||h.call(v,new Error("Input is too big for a single dispatch")),l++;continue}u.push([])}return u}function o(){const a=n(t);s();for(const u of a){if(!u.length)continue;const l={items:u};for(const h of u)h.batch=l;e.fetch(l.items.map(h=>h.key)).then(async h=>{await Promise.all(h.map(async(p,g)=>{const y=l.items[g];try{var P;const x=await Promise.resolve(p);(P=y.resolve)===null||P===void 0||P.call(y,x)}catch(x){var C;(C=y.reject)===null||C===void 0||C.call(y,x)}y.batch=null,y.reject=null,y.resolve=null}));for(const p of l.items){var v;(v=p.reject)===null||v===void 0||v.call(p,new Error("Missing result")),p.batch=null}}).catch(h=>{for(const p of l.items){var v;(v=p.reject)===null||v===void 0||v.call(p,h),p.batch=null}})}}function c(a){var u;const l={aborted:!1,key:a,batch:null,resolve:lr,reject:lr},m=new Promise((h,v)=>{var p;l.reject=v,l.resolve=h,(p=t)!==null&&p!==void 0||(t=[]),t.push(l)});return(u=r)!==null&&u!==void 0||(r=setTimeout(o)),m}return{load:c}}function en(...e){const t=new AbortController,r=e.length;let s=0;const n=()=>{++s===r&&t.abort()};for(const o of e)o?.aborted?n():o?.addEventListener("abort",n,{once:!0});return t.signal}var pe=j(N(),1);function jn(e){var t,r;const s=zs(e),n=(t=e.maxURLLength)!==null&&t!==void 0?t:1/0,o=(r=e.maxItems)!==null&&r!==void 0?r:1/0;return()=>{const c=m=>({validate(h){if(n===1/0&&o===1/0)return!0;if(h.length>o)return!1;const v=h.map(y=>y.path).join(","),p=h.map(y=>y.input);return Wr((0,pe.default)((0,pe.default)({},s),{},{type:m,path:v,inputs:p,signal:null})).length<=n},async fetch(h){const v=h.map(x=>x.path).join(","),p=h.map(x=>x.input),g=en(...h.map(x=>x.signal)),y=await Ys((0,pe.default)((0,pe.default)({},s),{},{path:v,inputs:p,type:m,headers(){return e.headers?typeof e.headers=="function"?e.headers({opList:h}):e.headers:{}},signal:g}));return(Array.isArray(y.json)?y.json:h.map(()=>y.json)).map(x=>({meta:y.meta,json:x}))}}),a=hr(c("query")),u=hr(c("mutation")),l={query:a,mutation:u};return({op:m})=>Pe(h=>{/* istanbul ignore if -- @preserve */if(m.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const p=l[m.type].load(m);let g;return p.then(y=>{g=y;const P=Rs(y.json,s.transformer.output);if(!P.ok){h.error(ge.from(P.error,{meta:y.meta}));return}h.next({context:y.meta,result:P.result}),h.complete()}).catch(y=>{h.error(ge.from(y,{meta:g?.meta}))}),()=>{}})}}j(N(),1);const zr=(e,...t)=>typeof e=="function"?e(...t):e;j(Rt(),1);function rn(){let e,t;return{promise:new Promise((s,n)=>{e=s,t=n}),resolve:e,reject:t}}async function sn(e){const t=await zr(e.url);if(!e.connectionParams)return t;const s=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+s}async function nn(e){const t={method:"connectionParams",data:await zr(e)};return JSON.stringify(t)}j(Rt(),1);var yt=j(Rt(),1);function on(e){const{promise:t,resolve:r,reject:s}=rn();return e.addEventListener("open",()=>{e.removeEventListener("error",s),r()}),e.addEventListener("error",s),t}function an(e,{intervalMs:t,pongTimeoutMs:r}){let s,n;function o(){s=setTimeout(()=>{e.send("PING"),n=setTimeout(()=>{e.close()},r)},t)}function c(){clearTimeout(s),o()}function a(){clearTimeout(n),c()}e.addEventListener("open",o),e.addEventListener("message",({data:u})=>{clearTimeout(s),o(),u==="PONG"&&a()}),e.addEventListener("close",()=>{clearTimeout(s),clearTimeout(n)})}var un=class We{constructor(t){var r;if((0,yt.default)(this,"id",++We.connectCount),(0,yt.default)(this,"WebSocketPonyfill",void 0),(0,yt.default)(this,"urlOptions",void 0),(0,yt.default)(this,"keepAliveOpts",void 0),(0,yt.default)(this,"wsObservable",Us(null)),(0,yt.default)(this,"openPromise",null),this.WebSocketPonyfill=(r=t.WebSocketPonyfill)!==null&&r!==void 0?r:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var t=this;if(t.openPromise)return t.openPromise;t.id=++We.connectCount;const r=sn(t.urlOptions).then(s=>new t.WebSocketPonyfill(s));t.openPromise=r.then(async s=>{t.ws=s,s.addEventListener("message",function({data:n}){n==="PING"&&this.send("PONG")}),t.keepAliveOpts.enabled&&an(s,t.keepAliveOpts),s.addEventListener("close",()=>{t.ws===s&&(t.ws=null)}),await on(s),t.urlOptions.connectionParams&&s.send(await nn(t.urlOptions.connectionParams))});try{await t.openPromise}finally{t.openPromise=null}}async close(){var t=this;try{await t.openPromise}finally{var r;(r=t.ws)===null||r===void 0||r.close()}}};(0,yt.default)(un,"connectCount",0);j(Rt(),1);j(N(),1);var Se=j(Rt(),1),fr=j(N(),1),cn=class{constructor(e){(0,Se.default)(this,"links",void 0),(0,Se.default)(this,"runtime",void 0),(0,Se.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(t=>t(this.runtime))}$request(e){var t;return Ls({links:this.links,op:(0,fr.default)((0,fr.default)({},e),{},{context:(t=e.context)!==null&&t!==void 0?t:{},id:++this.requestId})}).pipe(ks())}async requestAsPromise(e){var t=this;try{const r=t.$request(e);return(await Ts(r)).result.data}catch(r){throw ge.from(r)}}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r.context,signal:r.signal}).subscribe({next(n){switch(n.result.type){case"state":{var o;(o=r.onConnectionStateChange)===null||o===void 0||o.call(r,n.result);break}case"started":{var c;(c=r.onStarted)===null||c===void 0||c.call(r,{context:n.context});break}case"stopped":{var a;(a=r.onStopped)===null||a===void 0||a.call(r);break}case"data":case void 0:{var u;(u=r.onData)===null||u===void 0||u.call(r,n.result.data);break}}},error(n){var o;(o=r.onError)===null||o===void 0||o.call(r,n)},complete(){var n;(n=r.onComplete)===null||n===void 0||n.call(r)}})}};const Br=Symbol.for("trpc_untypedClient"),ln={query:"query",mutate:"mutation",subscribe:"subscription"},hn=e=>ln[e];function fn(e){const t=xs(({path:r,args:s})=>{const n=[...r],o=hn(n.pop()),c=n.join(".");return e[o](c,...s)});return Ss(r=>r===Br?e:t[r])}function _n(e){const t=new cn(e);return fn(t)}function Cn(e){return e[Br]}j(N(),1);j(N(),1);var dn=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(n){var o,c,a,u=2;for(typeof Symbol<"u"&&(c=Symbol.asyncIterator,a=Symbol.iterator);u--;){if(c&&(o=n[c])!=null)return o.call(n);if(a&&(o=n[a])!=null)return new s(o.call(n));c="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function s(n){function o(c){if(Object(c)!==c)return Promise.reject(new TypeError(c+" is not an object."));var a=c.done;return Promise.resolve(c.value).then(function(u){return{value:u,done:a}})}return s=function(a){this.s=a,this.n=a.next},s.prototype={s:null,n:null,next:function(){return o(this.n.apply(this.s,arguments))},return:function(a){var u=this.s.return;return u===void 0?Promise.resolve({value:a,done:!0}):o(u.apply(this.s,arguments))},throw:function(a){var u=this.s.return;return u===void 0?Promise.reject(a):o(u.apply(this.s,arguments))}},new s(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}});j(dn(),1);j(N(),1);var pn=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){function r(){var s=typeof SuppressedError=="function"?SuppressedError:function(a,u){var l=Error();return l.name="SuppressedError",l.error=a,l.suppressed=u,l},n={},o=[];function c(a,u){if(u!=null){if(Object(u)!==u)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var l=u[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(l===void 0&&(l=u[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var m=l;if(typeof l!="function")throw new TypeError("Object is not disposable.");m&&(l=function(){try{m.call(u)}catch(v){return Promise.reject(v)}}),o.push({v:u,d:l,a})}else a&&o.push({d:u,a});return u}return{e:n,u:c.bind(null,!1),a:c.bind(null,!0),d:function(){var u,l=this.e,m=0;function h(){for(;u=o.pop();)try{if(!u.a&&m===1)return m=0,o.push(u),Promise.resolve().then(h);if(u.d){var p=u.d.call(u.v);if(u.a)return m|=2,Promise.resolve(p).then(h,v)}else m|=1}catch(g){return v(g)}if(m===1)return l!==n?Promise.reject(l):Promise.resolve();if(l!==n)throw l}function v(p){return l=l!==n?new s(p,l):p,h()}return h()}}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Jr=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){function r(s,n){this.v=s,this.k=n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),yn=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var r=Jr();function s(n){return new r(n,0)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),vn=B({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var r=Jr();function s(o){return function(){return new n(o.apply(this,arguments))}}function n(o){var c,a;function u(m,h){try{var v=o[m](h),p=v.value,g=p instanceof r;Promise.resolve(g?p.v:p).then(function(y){if(g){var P=m==="return"?"return":"next";if(!p.k||y.done)return u(P,y);y=o[P](y).value}l(v.done?"return":"normal",y)},function(y){u("throw",y)})}catch(y){l("throw",y)}}function l(m,h){switch(m){case"return":c.resolve({value:h,done:!0});break;case"throw":c.reject(h);break;default:c.resolve({value:h,done:!1})}(c=c.next)?u(c.key,c.arg):a=null}this._invoke=function(m,h){return new Promise(function(v,p){var g={key:m,arg:h,resolve:v,reject:p,next:null};a?a=a.next=g:(c=a=g,u(m,h))})},typeof o.return!="function"&&(this.return=void 0)}n.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},n.prototype.next=function(o){return this._invoke("next",o)},n.prototype.throw=function(o){return this._invoke("throw",o)},n.prototype.return=function(o){return this._invoke("return",o)},t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}});j(pn(),1);j(yn(),1);j(vn(),1);j(N(),1);export{On as I,Pn as M,wn as Q,cn as T,_ as a,Mr as b,Bt as c,$e as d,xs as e,fn as f,Ss as g,_n as h,zt as i,_t as j,Sn as k,Cn as l,ge as m,k as n,xn as o,jn as p,gn as s};
