import{r as u,j as e,$ as M,aZ as $,a6 as G,H as P,I as q,aS as _,m as I,a_ as L,i as z,a5 as H,aE as U,ag as W,u as O,aj as X,k as Y,G as Z,t as J,aA as K}from"./react-vendor-BIDRRw8F.js";import{C as m,B as R,a as B}from"./index-BLcOQO7i.js";import{T as Q,a as ee,b as h,c as j}from"./tabs-D52QQNv5.js";import{u as b}from"./LanguageContext-DvTuhYl4.js";import{u as se}from"./use-toast-2UsIGyGT.js";import{s as C}from"./client-C3pdvDkS.js";import{b as D,e as x,T as te,a as ae,c as w,d as ce}from"./table-CASaqgev.js";import{B as k}from"./badge-BATP3r_Y.js";import{X as ie}from"./vendor-INCMKllo.js";import{L as f}from"./label-KexGf_ya.js";import{S as y,a as T,b as F,c as S,d as r}from"./select-ANAJPCoK.js";import{I as E}from"./input-BuEOZAZD.js";import"./trpc-vendor-wm-eNDph.js";const ne=({review:s})=>{const{t:a}=b(),[t,n]=u.useState(!1),[d,v]=u.useState(s.ai_generated_reply||""),c=async()=>{n(!0);try{const{data:i,error:p}=await C.functions.invoke("generate-review-reply",{body:{reviewId:s.id,reviewBody:s.review_body,sentiment:s.sentiment,language:s.language,guestName:s.guest_name,stars:s.stars}});if(p)throw p;i?.reply&&(v(i.reply),G.success(a("პასუხი წარმატებით გენერირდა","Reply generated successfully")))}catch(i){console.error("Error generating reply:",i),G.error(a("შეცდომა პასუხის გენერირებისას","Error generating reply"))}finally{n(!1)}},l=()=>{navigator.clipboard.writeText(d),G.success(a("პასუხი დაკოპირდა","Reply copied to clipboard"))};return e.jsx(D,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:55",children:e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:56",colSpan:8,className:"bg-muted/30 p-6",children:e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:57",className:"space-y-4",children:[s.review_title&&e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:60",children:e.jsx("h4",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:61",className:"font-semibold text-lg mb-2",children:s.review_title})}),e.jsx(m,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:66",className:"p-4 bg-background",children:e.jsx("p",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:67",className:"text-sm leading-relaxed whitespace-pre-wrap",children:s.review_body})}),s.topics&&s.topics.length>0&&e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:72",children:[e.jsxs("p",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:73",className:"text-sm font-medium mb-2",children:[a("თემები","Topics"),":"]}),e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:74",className:"flex flex-wrap gap-2",children:s.topics.map((i,p)=>e.jsx(k,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:76",variant:"secondary",children:i},p))})]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:85",className:"border-t pt-4",children:[e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:86",className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:87",className:"font-semibold flex items-center gap-2",children:[e.jsx(M,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:88",className:"h-4 w-4 text-primary"}),a("AI პასუხი","AI Generated Reply")]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:91",className:"flex gap-2",children:[e.jsxs(R,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:92",onClick:c,disabled:t,size:"sm",variant:"outline",children:[e.jsx(M,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:98",className:"h-4 w-4 mr-2"}),t?a("გენერირდება...","Generating..."):d?a("ხელახალი გენერირება","Regenerate"):a("პასუხის გენერირება","Generate Reply")]}),d&&e.jsxs(R,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:106",onClick:l,size:"sm",variant:"outline",children:[e.jsx($,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:107",className:"h-4 w-4 mr-2"}),a("კოპირება","Copy")]})]})]}),d?e.jsx(m,{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:115",className:"p-4 bg-primary/5 border-primary/20",children:e.jsx("p",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:116",className:"text-sm leading-relaxed whitespace-pre-wrap",children:d})}):e.jsx("p",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:119",className:"text-sm text-muted-foreground italic",children:a("პასუხი ჯერ არ არის გენერირებული","No reply generated yet")})]}),s.review_url&&e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:127",className:"border-t pt-4",children:e.jsxs("a",{"data-loc":"client/src/components/guest-reviews/ReviewDetailRow.tsx:128",href:s.review_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:[a("მიმოხილვის ნახვა პლატფორმაზე","View review on platform")," →"]})})]})})})},le=s=>{if(!s)return"Gmail";const a=s.toLowerCase();if(a.includes("tripadvisor"))return"Tripadvisor";if(a.includes("google")||a.includes("businessprofile"))return"Google";if(a.includes("booking"))return"Booking.com";if(a.includes("airbnb"))return"Airbnb";if(a.includes("facebook"))return"Facebook";if(a.includes("expedia"))return"Expedia";if(a.includes("hotels.com"))return"Hotels.com";const t=s.match(/@([^.]+)\./);return t?t[1].charAt(0).toUpperCase()+t[1].slice(1):"Email"},oe={positive:"bg-success/10 text-success border-success/20",neutral:"bg-muted text-muted-foreground",negative:"bg-destructive/10 text-destructive border-destructive/20"},re=({reviews:s,isLoading:a})=>{const{t}=b(),[n,d]=u.useState(null),v=c=>{d(n===c?null:c)};return a?e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:62",className:"flex items-center justify-center h-64",children:e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:63",className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length===0?e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:70",className:"text-center py-12 text-muted-foreground",children:t("მიმოხილვები არ მოიძებნა","No reviews found")}):e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:77",className:"border rounded-lg",children:e.jsxs(te,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:78",children:[e.jsx(ae,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:79",children:e.jsxs(D,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:80",children:[e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:81",className:"w-12",children:"#"}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:82",children:t("თარიღი","Date")}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:83",children:t("სტუმარი","Guest")}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:84",children:t("რეიტინგი","Rating")}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:85",children:t("სენტიმენტი","Sentiment")}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:86",children:t("პასუხგაცემული","Reply Status")}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:87",children:t("წყარო","Source")}),e.jsx(w,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:88",children:t("გამომგზავნი","Sender")})]})}),e.jsx(ce,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:91",children:s.map((c,l)=>{const i=c.reply_status!=="new"&&c.reply_status!=="manual_pending",p=le(c.from_email),g=n===c.id;return e.jsxs(e.Fragment,{children:[e.jsxs(D,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:98",className:"cursor-pointer hover:bg-muted/50",onClick:()=>v(c.id),children:[e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:103",className:"font-medium text-muted-foreground",children:e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:104",className:"flex items-center gap-2",children:[g?e.jsx(P,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:106",className:"h-4 w-4"}):e.jsx(q,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:108",className:"h-4 w-4"}),l+1]})}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:113",className:"text-sm",children:ie(new Date(c.review_date),"MMM d, yyyy")}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:116",children:e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:117",children:[e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:118",className:"font-medium",children:c.guest_name||t("ანონიმი","Anonymous")}),c.apartment_code&&e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:120",className:"text-xs text-muted-foreground",children:c.apartment_code})]})}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:124",children:c.stars&&e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:126",className:"flex items-center gap-1",children:[e.jsx(_,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:127",className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:128",className:"font-medium",children:c.stars})]})}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:132",children:e.jsx(k,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:133",variant:"outline",className:oe[c.sentiment],children:t(c.sentiment==="positive"?"დადებითი":c.sentiment==="negative"?"უარყოფითი":"ნეიტრალური",c.sentiment)})}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:140",children:e.jsx(k,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:141",variant:"outline",className:i?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground",children:i?t("კი","Yes"):t("არა","No")})}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:145",children:e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:146",className:"flex items-center gap-2",children:[e.jsx(I,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:147",className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:148",className:"text-sm font-medium",children:p})]})}),e.jsx(x,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:151",children:e.jsx("span",{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:152",className:"text-sm text-muted-foreground",children:c.from_email||t("არ მოიძებნა","N/A")})})]},c.id),g&&e.jsx(ne,{"data-loc":"client/src/components/guest-reviews/ReviewsTable.tsx:157",review:c})]})})})]})})},de=({filters:s,setFilters:a})=>{const{t}=b();return e.jsx(m,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:22",children:e.jsx(B,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:23",className:"pt-6",children:e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:24",className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:25",className:"space-y-2",children:[e.jsx(f,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:26",children:t("წყარო","Source")}),e.jsxs(y,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:27",value:s.source,onValueChange:n=>a({...s,source:n}),children:[e.jsx(T,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:31",children:e.jsx(F,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:32",placeholder:t("ყველა","All")})}),e.jsxs(S,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:34",children:[e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:35",value:"all",children:t("ყველა","All")}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:36",value:"gmail",children:"Gmail"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:37",value:"google",children:"Google"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:38",value:"facebook",children:"Facebook"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:39",value:"booking",children:"Booking.com"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:40",value:"airbnb",children:"Airbnb"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:41",value:"tripadvisor",children:"TripAdvisor"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:46",className:"space-y-2",children:[e.jsx(f,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:47",children:t("სენტიმენტი","Sentiment")}),e.jsxs(y,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:48",value:s.sentiment,onValueChange:n=>a({...s,sentiment:n}),children:[e.jsx(T,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:52",children:e.jsx(F,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:53",placeholder:t("ყველა","All")})}),e.jsxs(S,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:55",children:[e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:56",value:"all",children:t("ყველა","All")}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:57",value:"positive",children:t("დადებითი","Positive")}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:58",value:"neutral",children:t("ნეიტრალური","Neutral")}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:59",value:"negative",children:t("უარყოფითი","Negative")})]})]})]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:64",className:"space-y-2",children:[e.jsx(f,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:65",children:t("რეიტინგი","Stars")}),e.jsxs(y,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:66",value:s.stars,onValueChange:n=>a({...s,stars:n}),children:[e.jsx(T,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:70",children:e.jsx(F,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:71",placeholder:t("ყველა","All")})}),e.jsxs(S,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:73",children:[e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:74",value:"all",children:t("ყველა","All")}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:75",value:"5",children:"5 ⭐"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:76",value:"4",children:"4 ⭐"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:77",value:"3",children:"3 ⭐"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:78",value:"2",children:"2 ⭐"}),e.jsx(r,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:79",value:"1",children:"1 ⭐"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:84",className:"space-y-2",children:[e.jsx(f,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:85",children:t("დან","From")}),e.jsx(E,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:86",type:"date",value:s.dateFrom,onChange:n=>a({...s,dateFrom:n.target.value}),className:"w-full"})]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:94",className:"space-y-2",children:[e.jsx(f,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:95",children:t("მდე","To")}),e.jsx(E,{"data-loc":"client/src/components/guest-reviews/ReviewFilters.tsx:96",type:"date",value:s.dateTo,onChange:n=>a({...s,dateTo:n.target.value}),className:"w-full"})]})]})})})},me=({reviews:s})=>{const{t:a}=b(),t=s.length,n=s.reduce((l,i)=>l+(i.stars||0),0)/(t||1),d=s.filter(l=>l.sentiment==="positive").length;s.filter(l=>l.sentiment==="negative").length;const v=s.filter(l=>l.reply_status==="new").length,c=[{title:a("სულ მიმოხილვები","Total Reviews"),value:t,icon:L,color:"text-primary"},{title:a("საშუალო რეიტინგი","Avg Rating"),value:n.toFixed(1),icon:_,color:"text-yellow-500"},{title:a("დადებითი","Positive"),value:`${(d/t*100).toFixed(0)}%`,icon:z,color:"text-success"},{title:a("პასუხის მოლოდინში","Pending Reply"),value:v,icon:H,color:"text-warning"}];return e.jsx("div",{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:47",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(l=>e.jsx(m,{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:49",children:e.jsx(B,{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:50",className:"pt-6",children:e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:51",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:52",children:[e.jsx("p",{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:53",className:"text-sm text-muted-foreground",children:l.title}),e.jsx("p",{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:54",className:"text-2xl font-bold mt-1",children:l.value})]}),e.jsx(l.icon,{"data-loc":"client/src/components/guest-reviews/ReviewStats.tsx:56",className:`h-8 w-8 ${l.color}`})]})})},l.title))})},ue=()=>{const{t:s}=b(),{toast:a}=se(),[t,n]=u.useState([]),[d,v]=u.useState(!1),[c,l]=u.useState(!1),[i,p]=u.useState({source:"all",sentiment:"all",dateFrom:"2025-01-01",dateTo:new Date().toISOString().split("T")[0],stars:"all"}),g=async()=>{v(!0);try{let o=C.from("guest_reviews").select("*").order("review_date",{ascending:!1});i.source!=="all"&&(o=o.eq("source",i.source)),i.sentiment!=="all"&&(o=o.eq("sentiment",i.sentiment)),i.stars!=="all"&&(o=o.eq("stars",parseInt(i.stars))),i.dateFrom&&(o=o.gte("review_date",i.dateFrom)),i.dateTo&&(o=o.lte("review_date",i.dateTo));const{data:N,error:A}=await o;if(A)throw A;n(N||[])}catch(o){a({title:s("შეცდომა","Error"),description:o.message,variant:"destructive"})}finally{v(!1)}},V=async()=>{l(!0);try{const{data:o,error:N}=await C.functions.invoke("import-gmail-reviews");if(N)throw N;a({title:s("წარმატება","Success"),description:s(`${o.imported} მიმოხილვა იმპორტირებულია, ${o.skipped} გამოტოვებულია`,`${o.imported} reviews imported, ${o.skipped} skipped`)}),g()}catch(o){a({title:s("შეცდომა","Error"),description:o.message,variant:"destructive"})}finally{l(!1)}};return u.useEffect(()=>{g()},[i]),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:118",className:"space-y-6",children:[e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:120",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:121",children:[e.jsx("h2",{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:122",className:"text-3xl font-bold tracking-tight",children:s("სტუმრების მიმოხილვები","Guest Reviews")}),e.jsx("p",{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:125",className:"text-muted-foreground",children:s("ცენტრალიზებული სისტემა ყველა არხიდან მიმოხილვების მართვისთვის","Centralized review management from all sources")})]}),e.jsxs("div",{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:132",className:"flex gap-2",children:[e.jsxs(R,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:133",onClick:g,variant:"outline",disabled:d,children:[e.jsx(U,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:134",className:`mr-2 h-4 w-4 ${d?"animate-spin":""}`}),s("განახლება","Refresh")]}),e.jsxs(R,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:137",onClick:V,disabled:c,children:[e.jsx(W,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:138",className:"mr-2 h-4 w-4"}),s("Gmail-დან იმპორტი","Import from Gmail")]})]})]}),e.jsx(me,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:145",reviews:t}),e.jsx(de,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:148",filters:i,setFilters:p}),e.jsx(re,{"data-loc":"client/src/components/guest-reviews/GuestReviewsModule.tsx:151",reviews:t,isLoading:d})]})},ye=()=>{O();const{t:s}=b(),[a,t]=u.useState(!1);return u.useEffect(()=>{C.auth.getSession().then(({data:{session:n}})=>{t(!!n)})},[]),e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:23",className:"min-h-screen bg-background",children:[e.jsx("header",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:24",className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:25",className:"container mx-auto px-6 py-4",children:e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:26",className:"flex items-center gap-4",children:[a&&e.jsxs(R,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:28",variant:"ghost",size:"sm",onClick:()=>setLocation("/"),children:[e.jsx(X,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:29",className:"h-4 w-4 mr-2"}),s("უკან","Back")]}),e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:33",className:"flex items-center gap-3",children:[e.jsx("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:34",className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-accent/20 to-accent/10",children:e.jsx(L,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:35",className:"h-6 w-6 text-accent"})}),e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:37",children:[e.jsx("h1",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:38",className:"text-xl font-bold text-foreground",children:s("სტუმრებთან კომუნიკაცია","Guest Communication")}),e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:41",className:"text-xs text-muted-foreground",children:s("ერთიანი მრავალარხიანი მხარდაჭერა","Unified multi-channel support")})]})]})]})})}),e.jsx("main",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:50",className:"container mx-auto px-6 py-8",children:e.jsxs(Q,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:51",defaultValue:"dashboard",className:"w-full",children:[e.jsxs(ee,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:52",className:"grid w-full grid-cols-6 mb-8",children:[e.jsxs(h,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:53",value:"dashboard",className:"flex items-center gap-2",children:[e.jsx(Y,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:54",className:"h-4 w-4"}),s("დეშბორდი","Dashboard")]}),e.jsxs(h,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:57",value:"reviews",className:"flex items-center gap-2",children:[e.jsx(_,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:58",className:"h-4 w-4"}),s("მიმოხილვები","Reviews")]}),e.jsxs(h,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:61",value:"website-leads",className:"flex items-center gap-2",children:[e.jsx(Z,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:62",className:"h-4 w-4"}),s("საიტის ლიდები","Website Leads")]}),e.jsxs(h,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:65",value:"email",className:"flex items-center gap-2",children:[e.jsx(I,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:66",className:"h-4 w-4"}),s("ელ-ფოსტა","Email")]}),e.jsxs(h,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:69",value:"chat",className:"flex items-center gap-2",children:[e.jsx(J,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:70",className:"h-4 w-4"}),s("ჩათი","Chat")]}),e.jsxs(h,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:73",value:"phone",className:"flex items-center gap-2",children:[e.jsx(K,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:74",className:"h-4 w-4"}),s("ტელეფონი","Phone")]})]}),e.jsx(j,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:79",value:"dashboard",children:e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:80",className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(m,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:81",className:"p-6",children:[e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:82",className:"text-sm text-muted-foreground mb-1",children:s("აქტიური ჩათები","Active Chats")}),e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:83",className:"text-3xl font-bold",children:"12"})]}),e.jsxs(m,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:85",className:"p-6",children:[e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:86",className:"text-sm text-muted-foreground mb-1",children:s("საშუალო პასუხის დრო","Avg Response Time")}),e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:87",className:"text-3xl font-bold",children:"< 2წთ"})]})]})}),e.jsx(j,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:92",value:"reviews",children:e.jsx(ue,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:93"})}),e.jsx(j,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:96",value:"website-leads",children:e.jsxs(m,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:97",className:"p-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:98",className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:99",children:[e.jsx("h3",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:100",className:"text-lg font-semibold text-foreground",children:s("საიტის ლიდები","Website Leads")}),e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:103",className:"text-sm text-muted-foreground",children:s("orbi-sea-luxury პროექტიდან მიღებული დაჯავშნები","Bookings from orbi-sea-luxury project")})]}),e.jsx(R,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:107",onClick:()=>setLocation("/website-leads"),children:s("სრული ხედი","Full View")})]}),e.jsx("div",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:111",className:"text-center py-12 text-muted-foreground",children:s("დააჭირეთ 'სრული ხედი' დეტალური ინფორმაციისთვის","Click 'Full View' for detailed information")})]})}),e.jsx(j,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:117",value:"email",children:e.jsx(m,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:118",className:"p-8 text-center",children:e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:119",className:"text-muted-foreground",children:s("ელ-ფოსტის მოდული განვითარების პროცესშია","Email module under development")})})}),e.jsx(j,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:125",value:"chat",children:e.jsx(m,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:126",className:"p-8 text-center",children:e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:127",className:"text-muted-foreground",children:s("ჩათის მოდული განვითარების პროცესშია","Chat module under development")})})}),e.jsx(j,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:133",value:"phone",children:e.jsx(m,{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:134",className:"p-8 text-center",children:e.jsx("p",{"data-loc":"client/src/pages/reservations/GuestCommunication.tsx:135",className:"text-muted-foreground",children:s("ტელეფონის მოდული განვითარების პროცესშია","Phone module under development")})})})]})})]})};export{ye as default};
