import{u,j as n,i as r,ad as b,n as v,ae as L,af as A,ag as N,a3 as d,ah as D,ai as w,F,r as x,aj as T,ak as C}from"./react-vendor-BIDRRw8F.js";import{C as l,b as m,c as p,d as f,a as M,B as _}from"./index-BLcOQO7i.js";import{s as j}from"./client-C3pdvDkS.js";import{T as k,a as B,b as o,c as i,d as S,e as t}from"./table-CASaqgev.js";import{B as H}from"./badge-BATP3r_Y.js";import{X as E}from"./vendor-INCMKllo.js";import{T as I,a as q,b as g,c as h}from"./tabs-D52QQNv5.js";import"./trpc-vendor-wm-eNDph.js";const R=()=>{const a=u(),s=[{id:"analytics",title:"ფინანსური ანალიზი",description:"შემოსავლები, ხარჯები და მოგების ანალიზი",icon:r,path:"/finance/analytics",gradient:"from-blue-500 to-cyan-500"},{id:"otelms",title:"OtelMS",description:"სასტუმროს მართვის სისტემა",icon:b,path:"/finance/otelms",gradient:"from-purple-500 to-pink-500"},{id:"monthly",title:"თვეების ანალიზი",description:"თვიური ფინანსური რეპორტები",icon:v,path:"/finance/monthly-analysis",gradient:"from-green-500 to-emerald-500"},{id:"development",title:"განვითარების ხარჯი",description:"ინვესტიციები და განვითარების ბიუჯეტი",icon:L,path:"/finance/development-expenses",gradient:"from-orange-500 to-red-500"}];return n.jsx("div",{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:44",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(e=>{const c=e.icon;return n.jsxs(l,{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:48",className:"group cursor-pointer hover:shadow-lg transition-all duration-300 border-border hover:border-primary/50 overflow-hidden",onClick:()=>a(e.path),children:[n.jsxs("div",{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:53",className:"p-8",children:[n.jsx("div",{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:54",className:`inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br ${e.gradient} mb-4 group-hover:scale-110 transition-transform duration-300`,children:n.jsx(c,{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:55",className:"h-8 w-8 text-white"})}),n.jsx("h3",{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:57",className:"text-2xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors",children:e.title}),n.jsx("p",{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:60",className:"text-muted-foreground",children:e.description})]}),n.jsx("div",{"data-loc":"client/src/components/finance/FinanceModulesLanding.tsx:64",className:`h-1 bg-gradient-to-r ${e.gradient} transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300`})]},e.id)})})},U={created:F,updated:w,deleted:D,uploaded:d,imported:d,exported:N},z={created:"default",updated:"secondary",deleted:"destructive",uploaded:"default",imported:"default",exported:"secondary"},O=()=>{const{data:a=[],isLoading:s}=A({queryKey:["finance-activity-log"],queryFn:async()=>{const{data:e,error:c}=await j.from("finance_activity_log").select("*").order("created_at",{ascending:!1}).limit(100);if(c)throw c;return e}});return s?n.jsx(l,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:44",children:n.jsxs(m,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:45",children:[n.jsx(p,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:46",children:"Activity Log"}),n.jsx(f,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:47",children:"Loading activity history..."})]})}):n.jsxs(l,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:54",children:[n.jsxs(m,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:55",children:[n.jsx(p,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:56",children:"Finance Activity Log"}),n.jsx(f,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:57",children:"Recent changes and activities in the Finance module"})]}),n.jsx(M,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:61",children:n.jsxs(k,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:62",children:[n.jsx(B,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:63",children:n.jsxs(o,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:64",children:[n.jsx(i,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:65",children:"Date & Time"}),n.jsx(i,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:66",children:"User"}),n.jsx(i,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:67",children:"Action"}),n.jsx(i,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:68",children:"Entity"}),n.jsx(i,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:69",children:"Details"})]})}),n.jsx(S,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:72",children:a.length===0?n.jsx(o,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:74",children:n.jsx(t,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:75",colSpan:5,className:"text-center text-muted-foreground",children:"No activity recorded yet"})}):a.map(e=>{const c=U[e.action]||F,y=z[e.action]||"default";return n.jsxs(o,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:85",children:[n.jsx(t,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:86",className:"whitespace-nowrap",children:E(new Date(e.created_at),"MMM dd, yyyy HH:mm")}),n.jsx(t,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:89",children:e.user_email}),n.jsx(t,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:90",children:n.jsxs(H,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:91",variant:y,className:"flex items-center gap-1 w-fit",children:[n.jsx(c,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:92",className:"h-3 w-3"}),e.action]})}),n.jsx(t,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:96",children:n.jsxs("div",{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:97",className:"flex flex-col",children:[n.jsx("span",{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:98",className:"font-medium",children:e.entity_type}),e.entity_name&&n.jsx("span",{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:100",className:"text-sm text-muted-foreground",children:e.entity_name})]})}),n.jsx(t,{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:104",children:e.changes&&n.jsx("pre",{"data-loc":"client/src/components/finance/FinanceActivityLog.tsx:106",className:"text-xs max-w-md overflow-auto",children:JSON.stringify(e.changes,null,2)})})]},e.id)})})]})})]})},G=()=>{u();const[a,s]=x.useState(!1);return x.useEffect(()=>{j.auth.getSession().then(({data:{session:e}})=>{s(!!e)})},[]),n.jsxs("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:21",className:"min-h-screen bg-background",children:[n.jsx("header",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:22",className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:23",className:"container mx-auto px-6 py-4",children:n.jsxs("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:24",className:"flex items-center gap-4",children:[a&&n.jsxs(_,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:26",variant:"ghost",size:"sm",onClick:()=>setLocation("/"),children:[n.jsx(T,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:27",className:"h-4 w-4 mr-2"}),"მთავარი"]}),n.jsxs("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:31",className:"flex items-center gap-3",children:[n.jsx("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:32",className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-ai",children:n.jsx(r,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:33",className:"h-6 w-6 text-primary-foreground"})}),n.jsxs("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:35",children:[n.jsx("h1",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:36",className:"text-xl font-bold text-foreground",children:"ფინანსური ინტელექტი"}),n.jsx("p",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:39",className:"text-xs text-muted-foreground",children:"ორბი სითის ფინანსური მოდულები"})]})]})]})})}),n.jsx("main",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:48",className:"container mx-auto px-6 py-8",children:n.jsxs(I,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:49",defaultValue:"modules",className:"w-full",children:[n.jsxs(q,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:50",className:"mb-8",children:[n.jsxs(g,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:51",value:"modules",children:[n.jsx(r,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:52",className:"h-4 w-4 mr-2"}),"მოდულები"]}),n.jsxs(g,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:55",value:"activity",children:[n.jsx(C,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:56",className:"h-4 w-4 mr-2"}),"აქტივობის ლოგი"]})]}),n.jsxs(h,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:61",value:"modules",children:[n.jsxs("div",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:62",className:"mb-8",children:[n.jsx("h2",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:63",className:"text-2xl font-bold text-foreground mb-2",children:"აირჩიეთ მოდული"}),n.jsx("p",{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:66",className:"text-muted-foreground",children:"ფინანსური მართვის 4 ძირითადი მოდული"})]}),n.jsx(R,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:70"})]}),n.jsx(h,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:73",value:"activity",children:n.jsx(O,{"data-loc":"client/src/pages/finance/FinanceDashboard.tsx:74"})})]})})]})};export{G as default};
